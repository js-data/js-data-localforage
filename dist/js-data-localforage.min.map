{"version":3,"file":"js-data-localforage.min.js","sources":["js-data-localforage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","enqueue","task","queue","push","dequeue","length","taskInProcess","queueTask","createTask","fn","DSUtils","Promise","then","result","shift","setTimeout","err","reject","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","JSData","localforage","guid","keys","emptyStore","DS","omit","makePath","deepMixIn","forEach","removeCircular","filter","defaults","defaultFilter","Defaults","basePath","DSLocalForageAdapter","options","value","resourceConfig","name","endpoint","idsPath","getPath","resolve","getItem","ids","setItem","v","keysPath","_this","getIds","console","log","saveKeys","_this2","GET","item","removeItem","_this3","getIdPath","Error","params","_this4","idsArray","allowSimpleWhere","tasks","all","items","attrs","_this5","idAttribute","undefined","PUT","relationFields","ensureId","_this6","_this7","findAll","update","_this8","DEL","removeId","_this9","destroy","randHex","choice","forOwn","obj","val","size","str","_chars","split","arguments","isArray","randInt","thisObj","forIn","hasOwn","min","max","MIN_INT","MAX_INT","Math","round","rand","isKind","Array","prop","hasOwnProperty","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","exec","ctor","constructor","isProto","random","kind","kindOf","UNDEF","_rKind","_toString","get"],"mappings":"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"}