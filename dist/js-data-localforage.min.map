{"version":3,"file":"js-data-localforage.min.js","sources":["js-data-localforage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","enqueue","task","queue","push","dequeue","length","taskInProcess","queueTask","createTask","fn","DSUtils","Promise","then","result","shift","setTimeout","err","reject","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","JSData","localforage","guid","keys","emptyStore","DS","omit","makePath","deepMixIn","forEach","removeCircular","filter","defaults","defaultFilter","Defaults","basePath","DSLocalForageAdapter","options","value","resourceConfig","name","endpoint","idsPath","getPath","resolve","getItem","ids","setItem","v","keysPath","_this","getIds","saveKeys","_this2","GET","item","removeItem","_this3","getIdPath","Error","params","_this4","idsArray","allowSimpleWhere","tasks","all","items","attrs","_this5","undefined","idAttribute","PUT","relationFields","ensureId","_this6","_this7","findAll","update","_this8","DEL","removeId","_this9","destroy","randHex","choice","forOwn","obj","val","size","str","_chars","split","arguments","isArray","randInt","thisObj","forIn","hasOwn","min","max","MIN_INT","MAX_INT","Math","round","rand","isKind","Array","prop","hasOwnProperty","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","exec","ctor","constructor","isProto","random","kind","kindOf","get","UNDEF","_rKind","_toString"],"mappings":"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"}