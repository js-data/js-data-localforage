{"version":3,"file":"js-data-localforage.min.js","sources":["js-data-localforage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequire","obj","__esModule","_createClass","defineProperties","target","props","key","prop","configurable","value","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","JSData","localforage","emptyStore","DS","DSUtils","makePath","deepMixIn","forEach","filter","defaults","defaultFilter","removeCircular","omit","guid","keys","P","Promise","Defaults","basePath","DSLocalForageAdapter","options","getPath","resourceConfig","name","getIdPath","getEndpoint","getIds","idsPath","resolve","reject","getItem","err","ids","setItem","v","saveKeys","keysPath","ensureId","_this","then","removeId","GET","PUT","item","DEL","removeItem","find","Error","findAll","params","idsArray","allowSimpleWhere","tasks","push","all","items","create","attrs","i","undefined","idAttribute","relationFields","update","updateAll","destroy","destroyAll","arguments","slice","out","property","hasOwnProperty","contains","forOwn","val","randHex","choice","arr","start","end","len","length","Math","max","min","result","indexOf","fn","thisObj","forIn","hasOwn","size","str","_chars","split","isArray","randInt","fromIndex","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","exec","ctor","constructor","isProto","MIN_INT","MAX_INT","round","rand","isKind","Array","random","kind","kindOf","get","UNDEF","_rKind","_toString"],"mappings":"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"}