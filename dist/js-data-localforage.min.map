{"version":3,"file":"js-data-localforage.min.js","sources":["js-data-localforage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","enqueue","task","queue","push","dequeue","length","taskInProcess","queueTask","createTask","fn","DSUtils","Promise","then","result","shift","setTimeout","err","reject","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","JSData","localforage","guid","emptyStore","DS","keys","omit","makePath","deepMixIn","forEach","removeCircular","filter","defaults","defaultFilter","Defaults","basePath","DSLocalForageAdapter","options","value","resourceConfig","name","endpoint","idsPath","getPath","resolve","getItem","ids","setItem","v","keysPath","_this","getIds","saveKeys","_this2","GET","item","removeItem","_this3","getIdPath","Error","params","_this4","idsArray","allowSimpleWhere","tasks","all","items","attrs","_this5","undefined","idAttribute","PUT","relationFields","ensureId","_this6","_this7","findAll","update","_this8","DEL","removeId","_this9","destroy","randHex","choice","size","str","_chars","split","arguments","isArray","randInt","min","max","MIN_INT","MAX_INT","Math","round","rand","isKind","Array","val","random","kind","kindOf","get","UNDEF","_rKind","exec","_toString","toString"],"mappings":"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"}